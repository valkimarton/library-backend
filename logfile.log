2019-11-27 00:02:30.529  WARN 17071 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-11-27 13:48:17.577  WARN 9644 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-11-27 13:48:18.153  WARN 9644 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'imageController': Unsatisfied dependency expressed through field 'fileStorageService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'hu.bme.szoftarch.library.libbackend.service.FileStorageService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2019-11-27 13:48:18.266 ERROR 9644 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field fileStorageService in hu.bme.szoftarch.library.libbackend.controller.ImageController required a bean of type 'hu.bme.szoftarch.library.libbackend.service.FileStorageService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'hu.bme.szoftarch.library.libbackend.service.FileStorageService' in your configuration.

2019-11-27 13:49:03.717  WARN 9788 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-11-27 13:57:35.090  WARN 9788 --- [http-nio-8081-exec-5] h.b.s.l.l.s.JwtAuthorizationFilter       : Request to parse expired JWT : Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpc3MiOiJzZWN1cmUtYXBpIiwiYXVkIjoic2VjdXJlLWFwcCIsInN1YiI6IkdvbWJvY0EiLCJleHAiOjE1NzQ0NjEyOTcsInJvbCI6WyJBRE1JTiIsIlVTRVIiXSwiaWQiOjEwMDAxfQ.P1iw859yy2F6VA9dGtAA_DdjvA3ra7FRiSkggEeHKJDq-fWOSwkGsLUBB6NSac13iQZYgveOaW9xtukrHsWh6A failed : JWT expired at 2019-11-22T23:21:37Z. Current time: 2019-11-27T13:57:35Z, a difference of 398158089 milliseconds.  Allowed clock skew: 0 milliseconds.
2019-11-27 13:58:48.366  WARN 10507 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-11-27 13:58:57.195  WARN 10507 --- [http-nio-8081-exec-2] h.b.s.l.l.s.JwtAuthorizationFilter       : Request to parse expired JWT : Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpc3MiOiJzZWN1cmUtYXBpIiwiYXVkIjoic2VjdXJlLWFwcCIsInN1YiI6IkdvbWJvY0EiLCJleHAiOjE1NzQ0NjEyOTcsInJvbCI6WyJBRE1JTiIsIlVTRVIiXSwiaWQiOjEwMDAxfQ.P1iw859yy2F6VA9dGtAA_DdjvA3ra7FRiSkggEeHKJDq-fWOSwkGsLUBB6NSac13iQZYgveOaW9xtukrHsWh6A failed : JWT expired at 2019-11-22T23:21:37Z. Current time: 2019-11-27T13:58:57Z, a difference of 398240194 milliseconds.  Allowed clock skew: 0 milliseconds.
2019-11-27 14:10:58.994  WARN 11493 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-11-27 14:11:00.123 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/authenticate']
2019-11-27 14:11:00.124 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/**', GET]
2019-11-27 14:11:00.125 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/sort/**', GET]
2019-11-27 14:11:00.125 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/recommend/**', GET]
2019-11-27 14:11:00.125 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/user/**', GET]
2019-11-27 14:11:00.125 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/image/**', GET]
2019-11-27 14:11:00.125 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/registration', POST]
2019-11-27 14:11:00.125 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAuthority('ADMIN')', for Ant [pattern='/api/writing', POST]
2019-11-27 14:11:00.127 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/**', POST]
2019-11-27 14:11:00.127 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAuthority('USER')', for Ant [pattern='/**', GET]
2019-11-27 14:11:00.127 DEBUG 11493 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'denyAll', for Ant [pattern='/**']
2019-11-27 14:11:00.132 DEBUG 11493 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-11-27 14:11:00.133 DEBUG 11493 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-11-27 14:11:00.136  INFO 11493 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c03eb4e, org.springframework.security.web.context.SecurityContextPersistenceFilter@7146c6ea, org.springframework.security.web.header.HeaderWriterFilter@49de1505, org.springframework.web.filter.CorsFilter@6219006a, org.springframework.security.web.authentication.logout.LogoutFilter@6b94c200, hu.bme.szoftarch.library.libbackend.security.JwtAuthenticationFilter@1e836aed, hu.bme.szoftarch.library.libbackend.security.JwtAuthorizationFilter@4bc41565, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@795131d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@534d0cfa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8dedec8, org.springframework.security.web.session.SessionManagementFilter@29e3c28, org.springframework.security.web.access.ExceptionTranslationFilter@31450fc0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e0bba2f]
2019-11-27 14:11:00.152 DEBUG 11493 --- [main] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-11-27 14:11:00.395 DEBUG 11493 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authenticationConfig=hu.bme.szoftarch.library.libbackend.config.AuthenticationConfig$$EnhancerBySpringCGLIB$$ab84b711@13cc31df}
2019-11-27 14:13:07.161  WARN 11690 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-11-27 14:13:08.247 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/authenticate']
2019-11-27 14:13:08.249 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/**', GET]
2019-11-27 14:13:08.249 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/sort/**', GET]
2019-11-27 14:13:08.249 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/recommend/**', GET]
2019-11-27 14:13:08.250 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/user/**', GET]
2019-11-27 14:13:08.250 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/image/**', GET]
2019-11-27 14:13:08.250 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/registration', POST]
2019-11-27 14:13:08.250 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing', POST]
2019-11-27 14:13:08.250 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/writing/**', POST]
2019-11-27 14:13:08.250 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAuthority('USER')', for Ant [pattern='/**', GET]
2019-11-27 14:13:08.251 DEBUG 11690 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'denyAll', for Ant [pattern='/**']
2019-11-27 14:13:08.256 DEBUG 11690 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-11-27 14:13:08.258 DEBUG 11690 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2019-11-27 14:13:08.260  INFO 11690 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5667dd90, org.springframework.security.web.context.SecurityContextPersistenceFilter@447543ee, org.springframework.security.web.header.HeaderWriterFilter@21f479cd, org.springframework.web.filter.CorsFilter@261f5a45, org.springframework.security.web.authentication.logout.LogoutFilter@8b1170f, hu.bme.szoftarch.library.libbackend.security.JwtAuthenticationFilter@76673ed, hu.bme.szoftarch.library.libbackend.security.JwtAuthorizationFilter@6d41200c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22846a1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a86be01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@522fb69, org.springframework.security.web.session.SessionManagementFilter@8e00c02, org.springframework.security.web.access.ExceptionTranslationFilter@5a3be84, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e4d93f7]
2019-11-27 14:13:08.277 DEBUG 11690 --- [main] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2019-11-27 14:13:08.499 DEBUG 11690 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authenticationConfig=hu.bme.szoftarch.library.libbackend.config.AuthenticationConfig$$EnhancerBySpringCGLIB$$7f49ef3e@3f40568e}
2019-11-27 14:13:17.667 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-11-27 14:13:17.669 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-11-27 14:13:17.673 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-11-27 14:13:17.675 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 4 of 13 in additional filter chain; firing Filter: 'CorsFilter'
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 5 of 13 in additional filter chain; firing Filter: 'LogoutFilter'
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'GET /logout'
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/writing'; against '/logout'
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'PUT /logout'
2019-11-27 14:13:17.680 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-11-27 14:13:17.681 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'DELETE /logout'
2019-11-27 14:13:17.681 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-11-27 14:13:17.681 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 6 of 13 in additional filter chain; firing Filter: 'JwtAuthenticationFilter'
2019-11-27 14:13:17.681 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/writing'; against '/api/authenticate'
2019-11-27 14:13:17.681 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 7 of 13 in additional filter chain; firing Filter: 'JwtAuthorizationFilter'
2019-11-27 14:13:17.681 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 8 of 13 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-11-27 14:13:17.681 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 9 of 13 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-11-27 14:13:17.682 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 10 of 13 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-11-27 14:13:17.684 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@46b6d172: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2019-11-27 14:13:17.684 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 11 of 13 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-11-27 14:13:17.684 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 12 of 13 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-11-27 14:13:17.684 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-11-27 14:13:17.685 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/writing'; against '/api/authenticate'
2019-11-27 14:13:17.686 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'GET /api/writing/**'
2019-11-27 14:13:17.686 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'GET /api/writing/sort/**'
2019-11-27 14:13:17.686 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'GET /api/writing/recommend/**'
2019-11-27 14:13:17.686 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'GET /api/user/**'
2019-11-27 14:13:17.686 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/writing' doesn't match 'GET /api/image/**'
2019-11-27 14:13:17.686 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/writing'; against '/api/registration'
2019-11-27 14:13:17.686 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/writing'; against '/api/writing'
2019-11-27 14:13:17.687 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/writing; Attributes: [permitAll]
2019-11-27 14:13:17.687 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@46b6d172: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2019-11-27 14:13:17.694 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5b973a5d, returned: 1
2019-11-27 14:13:17.694 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-11-27 14:13:17.694 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-11-27 14:13:17.695 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : /api/writing reached end of additional filter chain; proceeding with original chain
2019-11-27 14:13:18.100 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@51d6cff9
2019-11-27 14:13:18.110 DEBUG 11690 --- [http-nio-8081-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-11-27 14:13:18.111 DEBUG 11690 --- [http-nio-8081-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
